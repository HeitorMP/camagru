<section class="p-3 p-md-4 p-xl-5">
  <div class="container">
    <div class="card border-light-subtle shadow-sm p-3">
      <div class="row g-4 align-items-start">
        <!-- Left side: Camera/File Preview -->
        <div class="col-12 col-md-8">
          <h3>Preview</h3>
          <div id="camera-wrapper" class="w-100 ratio ratio-4x3 position-relative">
            <video id="video" autoplay muted playsinline
              class="position-absolute top-0 start-0 w-100 h-100 object-fit-cover" style="z-index: 1; display: none;"></video>
            <canvas id="upload-canvas" class="position-absolute top-0 start-0 w-100 h-100 object-fit-cover"></canvas>
            <img src="" id="overlay"
              style="position: absolute; top: 0; left: 0; z-index: 2; width: 100%; height: 100%; pointer-events: none; display: none;" />
          </div>
          <div class="d-flex flex-wrap align-items-center gap-2 mt-3">
            <div class="btn-group" role="group">
              <button id="camera-mode" class="btn btn-primary active">Camera</button>
              <button id="upload-mode" class="btn btn-primary">Upload File</button>
            </div>
            <input type="file" id="file-input" accept="image/*" style="display: none;" />
            <button id="start-button" disabled class="btn btn-primary">Take/Upload Photo</button>
            <select id="overlay-select" class="form-select w-auto">
              <option value="" selected>Filters: none</option>
            </select>
            <div id="flashMessage" class="flash"></div>
          </div>
        </div>

        <!-- Right side: Gallery -->
        <div class="col-12 col-md-4 right-column">
          <h3>Your Photos</h3>
          <div id="gallery-editor" class="d-flex flex-column gap-3"></div>
        </div>
      </div>
    </div>
  </div>
</section>